.design 
  z-index: 4
  position: relative
  width: 100%
  margin: auto
  padding-bottom: 12rem
  background: rgba(8, 27, 46, 0.945)
  -webkit-clip-path: url(#about-clip-3)
  clip-path: url(#about-clip-3)

#web-design
  margin-top: 15rem
  scroll-padding-top: 140px

#web-design2
  margin-top: 15rem
  scroll-padding-top: 140px

#web-design3
  margin-top: 15rem
  scroll-padding-top: 140px

#design
  margin-top: 10rem
  scroll-padding-top: 140px
  padding: 2rem 1rem 4rem
  max-width: 1200px
  margin-left: auto
  margin-right: auto

.design-process
  padding: 2rem
  // text-align: center
  p:nth-of-type(2n+1)
    // text-align: right

.font-small
  font-size: 3rem

.design-header
  margin: auto
  width: 400px
  text-align: center
  margin-bottom: 10rem
  font-size: 5rem
  font-weight: 700
  clip-path: url(#design-clip)
  background: linear-gradient(82deg, rgba(13, 31, 50, 0.534) 50%, rgb(4, 20, 35) 50%)

#design-clip
  position: absolute
  left: 0

.web-carousel-container
  margin: 0 auto
  width: 200px
  // height: 150px
  position: relative
  perspective: 1000px
  transform-style: preserve-3d
  // transform: rotate3d(0, 0, 45deg)
  transform: rotate3d(0, 0, 0)

.web2-carousel-container
  margin: 0 auto
  width: 200px
  // height: 150px
  position: relative
  perspective: 1000px
  transform-style: preserve-3d
  // transform: rotate3d(0, 0, 45deg)
  transform: rotate3d(0, 0, 0)

.carousel-container
  margin: 0 auto
  width: 200px
  height: 150px
  position: relative
  perspective: 1000px
  transform-style: preserve-3d
  // transform: rotate3d(0, 0, 45deg)
  transform: rotate3d(0, 0, 0)

.prev-next-cont-web
  width: 160px
  // max-width: 600px
  transform: translateY(16rem)
  position: relative
  margin: auto
  z-index: 1

.prev-next-cont-web2
  width: 160px
  // max-width: 600px
  transform: translateY(16rem)
  position: relative
  margin: auto
  z-index: 1

.prev-next-cont
  width: 160px
  // max-width: 600px
  transform: translateY(-100px)
  position: relative
  margin: auto
  z-index: 1

@media (min-width: 568px) 
  .carousel-container
      width: 400px
      height: 280px
  .web-carousel-container
      width: 300px
  .prev-next-cont-web
      width: 90%
      transform: translateY(6rem)


@media (min-width: 768px) 
  .carousel-container
      width: 460px
      height: 320px
  .web-carousel-container
      width: 400px
  .prev-next-cont-web
      transform: translateY(9rem)
  #design
    margin-top: 10rem

@media (min-width: 992px) 
  .carousel-container
      width: 520px
      height: 360px
  .web-carousel-container
      width: 520px
  .prev-next-cont-web
      transform: translateY(14rem)
  #design
    margin-top: 10rem

@media (min-width: 1200px) 
    .carousel-container
      width: 600px
      height: 400px
    .prev-next-cont-web
      width: 1100px

@media (min-width: 1400px) 
    .carousel-container
      width: 780px
      height: 520px

.web-carousel
  height: 100%
  width: 100%
  position: absolute
  transform-style: preserve-3d
  transition: transform 1s
  div
    transform-style: preserve-3d
    
.web2-carousel
  height: 100%
  width: 100%
  position: absolute
  transform-style: preserve-3d
  transition: transform 1s
  div
    transform-style: preserve-3d

.carousel
  height: 100%
  width: 100%
  position: absolute
  transform-style: preserve-3d
  transition: transform 1s
  div
    transform-style: preserve-3d

.web-item
  display: block
  position: absolute
  background: #000
  font-size: 5em
  text-align: center
  color: #FFF
  border-radius: 3px
  transition: all 1s ease
  opacity: 0

.item
  display: block
  position: absolute
  background: #000
  font-size: 5em
  text-align: center
  color: #FFF
  border-radius: 3px
  transition: all 1s ease
  opacity: 0


.centered 
  opacity: 1 !important


.a
  transform: rotateY(0deg) translateZ(250px) rotateY(0deg)
.b
  transform: rotateY(90deg) translateZ(250px) rotateY(-90deg)
.c
  transform: rotateY(180deg) translateZ(250px) rotateY(-180deg)
.d
  transform: rotateY(270deg) translateZ(250px) rotateY(-270deg)

.web-a
  transform: rotateY(0deg) translateZ(250px) rotateY(0deg)
.web-b
  transform: rotateY(45deg) translateZ(250px) rotateY(-45deg)
.web-c
  transform: rotateY(90deg) translateZ(250px) rotateY(-90deg)
.web-d
  transform: rotateY(135deg) translateZ(250px) rotateY(-135deg)
.web-e
  transform: rotateY(180deg) translateZ(250px) rotateY(180deg)
.web-f
  transform: rotateY(225deg) translateZ(250px) rotateY(-225deg)
.web-g
  transform: rotateY(270deg) translateZ(250px) rotateY(-270deg)
.web-h
  transform: rotateY(315deg) translateZ(250px) rotateY(-315deg)


.web2-a
  transform: rotateY(0deg) translateZ(250px) rotateY(0deg)
.web2-b
  transform: rotateY(45deg) translateZ(250px) rotateY(-45deg)
.web2-c
  transform: rotateY(90deg) translateZ(250px) rotateY(-90deg)
.web2-d
  transform: rotateY(135deg) translateZ(250px) rotateY(-135deg)
.web2-e
  transform: rotateY(180deg) translateZ(250px) rotateY(180deg)
.web2-f
  transform: rotateY(225deg) translateZ(250px) rotateY(-225deg)
.web2-g
  transform: rotateY(270deg) translateZ(250px) rotateY(-270deg)
.web2-h
  transform: rotateY(315deg) translateZ(250px) rotateY(-315deg)







.next, .prev
  color: #444
  position: absolute
  bottom: -180px
  cursor: pointer
  fill: #44a59587

  // fill: none
  // stroke:rgb(112, 180, 205)
  // stroke-width: 2px !important
  width: 50px
  transition: all .2s ease
  
  &:hover
    fill: white
  &:active
    bottom: -190px


.next
  right: 1em
  transform: rotate(-90deg)

.prev
  left: 1em
  transform: rotate(90deg)

.disable-caret
  caret: none

// ---- Design Mosaic Grid (replaces carousel image display) ----
.design-mosaic
  z-index: 4
  position: relative
  width: 100%
  max-width: 1200px
  margin-left: auto
  margin-right: auto
  padding: 2rem 1rem 4rem
  scroll-padding-top: 140px

.design-mosaic__title
  margin: 0 auto 2.5rem
  width: fit-content
  text-align: center
  font-size: clamp(2rem, 5vw, 3.5rem)
  font-weight: 700

.design-mosaic__grid
  display: grid
  grid-template-columns: repeat(4, 1fr)
  grid-auto-rows: minmax(140px, 20vw)
  gap: 0.75rem
  align-items: stretch

// Portrait variant: 2×2 checkerboard, 3:4 tiles, large:small = 1.6 (8fr:5fr)
.design-mosaic--portrait .design-mosaic__grid
  grid-template-columns: 8fr 5fr
  grid-auto-rows: 10.67fr
  gap: 0.75rem
  align-items: stretch

.design-mosaic--portrait .design-mosaic__cell
  grid-column: unset
  grid-row: unset
  min-height: 0

.design-mosaic--portrait .design-mosaic__cell--large
  grid-column: span 1
  grid-row: span 1

.design-mosaic--portrait .design-mosaic__cell--small
  grid-column: span 1
  grid-row: span 1
  align-self: start

.design-mosaic--portrait .design-mosaic__cell .design-mosaic__img
  aspect-ratio: 3 / 4
  width: 100%
  height: 100%
  object-fit: cover

// Landscape variant: shorter rows, wider cells
.design-mosaic--landscape .design-mosaic__grid
  grid-template-columns: repeat(4, 1fr)
  grid-auto-rows: minmax(100px, 14vw)
  gap: 0.75rem

.design-mosaic__cell
  position: relative
  border-radius: 12px
  overflow: hidden
  background: #0d1320
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.35)
  transition: transform 0.25s ease, box-shadow 0.25s ease

  &:hover
    transform: scale(1.02)
    box-shadow: 0 8px 28px rgba(0, 0, 0, 0.45)

.design-mosaic__cell--normal
  grid-column: span 1
  grid-row: span 1

.design-mosaic__cell--large
  grid-column: span 2
  grid-row: span 2

.design-mosaic__cell--wide
  grid-column: span 2
  grid-row: span 1

.design-mosaic__cell--tall
  grid-column: span 1
  grid-row: span 2

.design-mosaic__img
  width: 100%
  height: 100%
  object-fit: cover
  display: block
  vertical-align: middle

@media (max-width: 767px)
  .design-mosaic__grid
    grid-template-columns: repeat(2, 1fr)
    grid-auto-rows: minmax(120px, 28vw)
    gap: 0.5rem

  .design-mosaic--portrait .design-mosaic__grid
    grid-template-columns: 8fr 5fr
    grid-auto-rows: 10.67fr
    gap: 0.5rem

  .design-mosaic--landscape .design-mosaic__grid
    grid-auto-rows: minmax(90px, 22vw)

  .design-mosaic__cell--large
    grid-column: span 2
    grid-row: span 2

  .design-mosaic__cell--wide
    grid-column: span 2

  .design-mosaic__cell--tall
    grid-column: span 1
    grid-row: span 2

  .design-mosaic
    padding: 1.5rem 0.75rem 3rem

// Section spacing for mosaic sections uses #web-design, #web-design3, #design above

// Partially faded bg for design sections (body tint fading to transparent)
// #design1,
// #design2,
// #design3,
// #design
//   background: radial-gradient(ellipse 80% 70% at 50% 40%, rgb(4, 20, 35) 0%, rgba(4, 20, 35, 0.411) 70%)

// ---- Design1 + MosaicGridPortrait (new 2×2 grid) ----
#design1, #design2, #design3, #design4
  margin-top: 15rem
  scroll-padding-top: 140px
  padding: 4rem 1rem 8rem
  max-width: 1200px
  margin-left: auto
  margin-right: auto



.mosaic-grid-portrait
  width: 100%
  max-width: 700px
  margin-left: auto
  margin-right: auto

.mosaic-grid-portrait--landscape
  max-width: 1100px

@media (max-width: 1200px)
  .mosaic-grid-portrait
    max-width: 500px

  .mosaic-grid-portrait--landscape
    max-width: 900px

.mosaic-grid-portrait__grid
  display: grid
  grid-template-columns: repeat(8, 1fr)
  grid-template-rows: 6.67fr 5.33fr
  gap: 0.75rem
  width: 100%
  min-height: 280px

.mosaic-grid-portrait--has-title .mosaic-grid-portrait__grid
  grid-template-rows: auto 6.67fr 5.33fr

.mosaic-grid-portrait--has-title.mosaic-grid-portrait--landscape .mosaic-grid-portrait__grid
  grid-template-rows: auto 3.75fr 3fr

.mosaic-grid-portrait__title
  align-self: end
  justify-self: start
  width: fit-content
  // padding: 1rem 2.5rem
  margin: 3.5rem 0 1rem
  // background: linear-gradient(to right, rgb(5, 11, 25) 0%, rgba(4, 20, 35, 0) 40%)
  // background: linear-gradient(to right, #44A595 10%, rgba(1, 7, 13, 0) 80%)
  // background:  #44A595 
  // border-radius: 10px
  h2
    // margin: 0 1rem
    font-size: clamp(1rem, 5vw, 3rem)
    font-weight: 300
    padding-bottom: 0.25rem
    color: rgba(24, 32, 65, 1)
    color: #44A595 
    letter-spacing: -1px
    // text-transform: uppercase



.mosaic-grid-portrait__cell
  position: relative
  border-radius: 8px
  overflow: hidden
  min-height: 0
  display: flex
  align-items: center
  justify-content: center
  aspect-ratio: 3 / 4

.mosaic-grid-portrait--landscape .mosaic-grid-portrait__cell
  aspect-ratio: 16 / 9

.mosaic-grid-portrait--landscape .mosaic-grid-portrait__grid
  grid-template-rows: 3.75fr 3fr

.mosaic-grid-portrait__cell:first-child
  align-self: end

// When title exists, first tile is 2nd child
.mosaic-grid-portrait--has-title .mosaic-grid-portrait__grid > .mosaic-grid-portrait__cell:nth-child(2)
  align-self: end

.mosaic-grid-portrait__img
  width: 100%
  height: 100%
  // aspect-ratio: 3 / 4
  object-fit: cover
  display: block
  object-position: center


